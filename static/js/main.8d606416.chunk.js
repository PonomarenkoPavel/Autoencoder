(this.webpackJsonpautoencoder=this.webpackJsonpautoencoder||[]).push([[0],{199:function(e,t,a){e.exports=a(391)},208:function(e,t,a){},216:function(e,t){},217:function(e,t){},218:function(e,t){},219:function(e,t){},220:function(e,t){},221:function(e,t){},223:function(e,t){},224:function(e,t){},391:function(e,t,a){"use strict";a.r(t);var n,r,c,s=a(2),i=a.n(s),o=a(21),u=a.n(o),l=a(73),d=(a(208),a(32)),m=a(5),f="".concat("layers","/ADD_LAYERS_PARAMETERS"),p={},h=a(422),b=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return t[n.type]?t[n.type](a,n):a}},v=b({parameters:[],layers:p},Object(m.a)({},f,(function(e,t){var a=t.param;return Object(h.a)("parameters",Object.values(a),e)}))),g=a(421),O="".concat("data","/FETCH_DATA"),j="".concat("data","/FETCH_DATA_SUCCESS"),w="".concat("data","/SET_STATUS"),x=function(e){return{type:w,status:e}},E=b({data:p,status:"NOT_REQUESTED"},(n={},Object(m.a)(n,w,(function(e,t){var a=t.status;return Object(h.a)("status",a,e)})),Object(m.a)(n,O,(function(e){return Object(h.a)("status","LOADING",e)})),Object(m.a)(n,j,(function(e,t){var a=t.data;return Object(g.a)(e,{status:"NOT_REQUESTED",data:a})})),n)),I="".concat("models","/ADD_MODELS"),y="".concat("models","/TRAIN_MODEL"),S=b({models:p},Object(m.a)({},I,(function(e,t){var a=t.models;return Object(h.a)("models",a,e)}))),T=a(413),k="".concat("snackBar","/SHOW_SNACK_BAR"),D="".concat("snackBar","/HIDE_SNACK_BAR"),A={snackBarType:"",messageText:""},C=b(A,(r={},Object(m.a)(r,k,(function(e,t){var a=t.snackBarType,n=void 0===a?"":a,r=t.messageText,c=void 0===r?"":r;return Object(g.a)(e,{snackBarType:n,messageText:c})})),Object(m.a)(r,D,Object(T.a)(A)),r)),_=Object(d.combineReducers)({layers:v,data:E,models:S,snackBar:C}),B=a(181),N=a(128),z=function(e){return e.snackBar},R=(c={},Object(m.a)(c,"error","Something wrong"),Object(m.a)(c,"success","Successful"),c),F=a(419),H=a(420),W=function(e){var t=e.timeout,a=e.severity,n=e.message,r=e.onClose;return i.a.createElement(F.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,autoHideDuration:t,onClose:r},i.a.createElement(H.a,{severity:a,variant:"filled",onClose:r},n))},L=function(){var e=Object(l.b)(),t=Object(l.c)(z),a=t.snackBarType,n=t.messageText,r=Object(s.useCallback)((function(t,a){"clickaway"!==a&&e({type:D})}),[e]);return a?i.a.createElement(W,{timeout:5e3,severity:a,message:n||R[a],onClose:r}):null},M=a(416),U=Object(M.a)({wrapper:{padding:"40px 80px"},"@media (min-width: 2140px)":{wrapper:{maxWidth:1980,margin:"40px auto",boxSizing:"border-box"}}}),P=a(14),Q=a(417),G=a(418),J=Object(M.a)({container:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,bottom:0,left:0,right:0},buttons:{display:"flex",alignItems:"center",width:"50%",justifyContent:"space-around"}}),K=function(e){var t=e.createNN,a=J();return i.a.createElement("div",{className:a.container},i.a.createElement(Q.a,{variant:"h3",component:"h1",paragraph:!0},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c"),i.a.createElement("div",{className:a.buttons},i.a.createElement(G.a,{variant:"contained",color:"primary",size:"large",onClick:t},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u0443\u044e \u0441\u0435\u0442\u044c"),i.a.createElement(G.a,{variant:"contained",size:"large",disabled:!0},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0443\u044e \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u0443\u044e \u0441\u0435\u0442\u044c")))},Y=function(){var e=Object(P.d)(),t=Object(s.useCallback)((function(){e.push("/create")}),[e]);return i.a.createElement(K,{createNN:t})},V=function(){return console.log(123),i.a.createElement(Y,null)};var $=function(){var e=U();return i.a.createElement(i.a.Fragment,null,i.a.createElement(L,null),i.a.createElement("div",{className:e.wrapper},i.a.createElement(N.a,null,i.a.createElement(V,null))))},q=a(8),X=a.n(q),Z=a(27),ee=a(17),te=function(){var e=new Image,t=document.createElement("canvas"),a=t.getContext("2d");return new Promise((function(n){e.crossOrigin="",e.onload=function(){e.width=e.naturalWidth,e.height=e.naturalHeight;var r=new ArrayBuffer(20384e4);t.width=e.width,t.height=5e3;for(var c=0;c<13;c+=1){var s=new Float32Array(r,784*c*5e3*4,392e4);a.drawImage(e,0,5e3*c,e.width,5e3,0,0,e.width,5e3);for(var i=a.getImageData(0,0,t.width,t.height),o=0;o<i.data.length/4;o+=1)s[o]=i.data[4*o]/255}n(new Float32Array(r))},e.src="https://storage.googleapis.com/learnjs-data/model-builder/mnist_images.png"}))},ae=function(e){return{trainImages:e.slice(0,4312e4),testImages:e.slice(4312e4)}},ne=function(e){var t=e.batchSize,a=e.testImages,n=e.testIndices,r=e.initIndex;return{batch:Object(ee.tidy)((function(){return re(+t,a,(function(){return r=(r+1)%n.length,n[r]})).reshape([+t,28,28,1])})),shuffledTestIndex:r}},re=function(e,t,a){for(var n=new Float32Array(784*e),r=0;r<e;r+=1){var c=a(),s=t.slice(784*c,784*c+784);n.set(s,784*r)}return Object(ee.tensor2d)(n,[e,784])},ce=function(e){return e.models.models.autoencoder},se=a(132),ie=a(185),oe=function(e){var t=e.nn,a=e.trainData,n=e.testData,r=e.epochs,c=e.batchSize,s=ie.show.fitCallbacks({name:"Model Training"},["loss","val_loss","acc","val_acc"]);return t.fit(a,a,{batchSize:c,validationData:[n,n],epochs:r,shuffle:!0,callbacks:s})};function ue(e,t){return le.apply(this,arguments)}function le(){return(le=Object(se.a)(X.a.mark((function e(t,a){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.predict(a),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return me.apply(this,arguments)}function me(){return(me=Object(se.a)(X.a.mark((function e(t,a){var n,r,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.shape[0],r=X.a.mark((function e(n){var r,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(ee.tidy)((function(){return t.slice([n,0],[1,t.shape[1]]).reshape([28,28,1])})),(c=document.createElement("canvas")).width=28,c.height=28,c.style="margin: 4px;",e.next=7,ee.browser.toPixels(r.clipByValue(0,1),c);case 7:a.appendChild(c),r.dispose();case 9:case"end":return e.stop()}}),e)})),c=0;case 3:if(!(c<n)){e.next=8;break}return e.delegateYield(r(c),"t0",5);case 5:c+=1,e.next=3;break;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fe=X.a.mark(he),pe=X.a.mark(be);function he(e){var t,a,n,r,c,s,i,o,u,l,d,m,f,p,h,b,v,g,O,j,w;return X.a.wrap((function(E){for(;;)switch(E.prev=E.next){case 0:return t=e.options,a=t.learningOptions,n=t.sampleSizes,E.next=4,Object(Z.c)(x("LOADING"));case 4:return E.next=6,Object(Z.a)(te);case 6:return r=E.sent,E.next=9,Object(Z.c)(x("NOT_REQUESTED"));case 9:return E.next=11,Object(Z.d)(ce);case 11:return c=E.sent,s={trainIndices:ee.util.createShuffledIndices(55e3),testIndices:ee.util.createShuffledIndices(1e4)},i=s.trainIndices,o=s.testIndices,u=ae(r),l=u.trainImages,d=u.testImages,m=ne({batchSize:n.train,testImages:l,testIndices:i,initIndex:0}),f=m.batch,p=ne({batchSize:n.test,testImages:d,testIndices:o,initIndex:0}),h=p.batch,b=p.shuffledTestIndex,E.next=18,Object(Z.a)(oe,{nn:c,trainData:f,testData:h,batchSize:+a.batchSize,epochs:+a.epochs});case 18:return v=ne({batchSize:10,testImages:d,testIndices:o,initIndex:b}),g=v.batch,O=document.getElementById("initImage"),j=document.getElementById("predsImage"),E.next=23,Object(Z.a)(ue,c,g);case 23:return w=E.sent,E.next=26,Object(Z.a)(de,g,O);case 26:return E.next=28,Object(Z.a)(de,w,j);case 28:case"end":return E.stop()}}),fe)}function be(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.e)(y,he);case 2:case"end":return e.stop()}}),pe)}var ve=X.a.mark(ge);function ge(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.b)(be);case 2:case"end":return e.stop()}}),ve)}var Oe=a(190);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je=Object(Oe.a)(),we=Object(d.createStore)(_,Object(B.composeWithDevTools)(Object(d.applyMiddleware)(je)));je.run(ge),u.a.render(i.a.createElement(l.a,{store:we},i.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[199,1,2]]]);
//# sourceMappingURL=main.8d606416.chunk.js.map