(this.webpackJsonpautoencoder=this.webpackJsonpautoencoder||[]).push([[0],{232:function(e,a,t){e.exports=t(424)},241:function(e,a,t){},249:function(e,a){},250:function(e,a){},251:function(e,a){},252:function(e,a){},253:function(e,a){},254:function(e,a){},256:function(e,a){},257:function(e,a){},424:function(e,a,t){"use strict";t.r(a);var n,r,c,i=t(2),l=t.n(i),o=t(15),s=t.n(o),u=t(35),m=(t(241),t(38)),d=t(7),p="".concat("layers","/ADD_LAYERS_PARAMETERS"),b={},f=t(486),v=function(e,a){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return a[n.type]?a[n.type](t,n):t}},h=v({parameters:[],layers:b},Object(d.a)({},p,(function(e,a){var t=a.param;return Object(f.a)("parameters",Object.values(t),e)}))),g=t(484),E="".concat("data","/FETCH_DATA"),O="".concat("data","/FETCH_DATA_SUCCESS"),j="".concat("data","/SET_STATUS"),y=function(e){return{type:j,status:e}},x=v({data:b,status:"NOT_REQUESTED"},(n={},Object(d.a)(n,j,(function(e,a){var t=a.status;return Object(f.a)("status",t,e)})),Object(d.a)(n,E,(function(e){return Object(f.a)("status","LOADING",e)})),Object(d.a)(n,O,(function(e,a){var t=a.data;return Object(g.a)(e,{status:"NOT_REQUESTED",data:t})})),n)),S="".concat("models","/ADD_MODELS"),C="".concat("models","/TRAIN_MODEL"),k=v({models:b},Object(d.a)({},S,(function(e,a){var t=a.models;return Object(f.a)("models",t,e)}))),w=t(460),N="".concat("snackBar","/SHOW_SNACK_BAR"),I="".concat("snackBar","/HIDE_SNACK_BAR"),T={snackBarType:"",messageText:""},z=v(T,(r={},Object(d.a)(r,N,(function(e,a){var t=a.snackBarType,n=void 0===t?"":t,r=a.messageText,c=void 0===r?"":r;return Object(g.a)(e,{snackBarType:n,messageText:c})})),Object(d.a)(r,I,Object(w.a)(T)),r)),A=Object(m.combineReducers)({layers:h,data:x,models:k,snackBar:z}),B=t(210),D=t(72),L=function(e){return e.snackBar},F=(c={},Object(d.a)(c,"error","Something wrong"),Object(d.a)(c,"success","Successful"),c),W=t(485),R=t(483),_=function(e){var a=e.timeout,t=e.severity,n=e.message,r=e.onClose;return l.a.createElement(W.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,autoHideDuration:a,onClose:r},l.a.createElement(R.a,{severity:t,variant:"filled",onClose:r},n))},P=function(){var e=Object(u.b)(),a=Object(u.c)(L),t=a.snackBarType,n=a.messageText,r=Object(i.useCallback)((function(a,t){"clickaway"!==t&&e({type:I})}),[e]);return t?l.a.createElement(_,{timeout:5e3,severity:t,message:n||F[t],onClose:r}):null},H=t(467),U=Object(H.a)({wrapper:{padding:"40px 80px"},"@media (min-width: 2140px)":{wrapper:{maxWidth:1980,margin:"40px auto",boxSizing:"border-box"}}}),V=t(22),M=t(46),G=t(16),Q=t(96),J=t(469),K=t(468),Y=t(470),$=t(487),q=t(474),X=Object(H.a)({container:{margin:"40px 80px"},section:{display:"flex",flexDirection:"column",paddingTop:"40px"},settings:{display:"flex",justifyContent:"space-around"},form:{marginTop:"20px",display:"flex","& > *":{marginRight:"15px"}},layers:{marginTop:"20px"},table:{maxWidth:650,marginTop:"20px"},text:{display:"flex",alignItems:"center"}}),Z=function(e){var a=e.testSampleSize,t=void 0===a?"":a,n=e.trainSampleSize,r=void 0===n?"":n,c=e.dataSize,i=void 0===c?0:c,o=e.editSampleSize,s=e.editLearningOption,u=e.batchSize,m=void 0===u?"":u,d=e.epochs,p=void 0===d?"":d,b=e.trainNN,f=X();return l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{className:f.section,maxWidth:!1},l.a.createElement(J.a,{container:!0,spacing:3},l.a.createElement(J.a,{item:!0,xs:12},l.a.createElement(Y.a,{component:"h2",variant:"h5"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f")),l.a.createElement(J.a,{item:!0,xs:12,sm:4,container:!0},l.a.createElement(Y.a,{component:"span",variant:"subtitle1",color:"textPrimary",className:f.text},"\u0412\u0441\u0435\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e ",i," \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432")),l.a.createElement(J.a,{item:!0,xs:12,sm:4},l.a.createElement($.a,{label:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0438",id:"test",variant:"outlined",value:t,onChange:o,fullWidth:!0})),l.a.createElement(J.a,{item:!0,xs:12,sm:4},l.a.createElement($.a,{label:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0438",variant:"outlined",id:"train",value:r,onChange:o,fullWidth:!0})))),l.a.createElement(K.a,{className:f.section,maxWidth:!1},l.a.createElement(Y.a,{component:"h2",variant:"h5",paragraph:!0},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f"),l.a.createElement(J.a,{container:!0,spacing:3},l.a.createElement(J.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement($.a,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043f\u043e\u0445",id:"epochs",onChange:s,value:p,variant:"outlined",fullWidth:!0})),l.a.createElement(J.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement($.a,{label:"\u0420\u0430\u0437\u043c\u0435\u0440 \u043f\u0430\u0440\u0442\u0438\u0438 (batch)",id:"batchSize",onChange:s,variant:"outlined",value:m,fullWidth:!0})),l.a.createElement(J.a,{item:!0,xs:12,sm:6,md:4,container:!0},l.a.createElement(q.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:b},"\u041e\u0431\u0443\u0447\u0438\u0442\u044c \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u0443\u044e \u0441\u0435\u0442\u044c")))))},ee=Object(H.a)({section:{display:"flex",flexDirection:"column",paddingTop:"40px"}}),ae=function(e){var a=e.initImageContainer,t=e.predsImageContainer,n=ee();return l.a.createElement(K.a,{className:n.section,maxWidth:!1},l.a.createElement(Y.a,{component:"h2",variant:"h5",paragraph:!0},"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u043e\u0439 \u0441\u0435\u0442\u0438"),l.a.createElement(J.a,{container:!0,spacing:3},l.a.createElement(J.a,{item:!0,xs:12},l.a.createElement(q.a,{variant:"contained",color:"primary",fullWidth:!0},"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c")),l.a.createElement(J.a,{item:!0,xs:12,sm:6,id:"initImage",ref:a},l.a.createElement(Y.a,{component:"h2",variant:"h6",paragraph:!0},"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f")),l.a.createElement(J.a,{item:!0,xs:12,sm:6,id:"predsImage",ref:t},l.a.createElement(Y.a,{component:"h2",variant:"h6",paragraph:!0},"\u041f\u043e\u0441\u043b\u0435 \u041d\u0421"))))},te=t(466),ne=t(492),re=function(e){var a=e.handleClick;return l.a.createElement(te.a,{"aria-label":"back",onClick:a},l.a.createElement(ne.a,null))},ce=function(e){var a=e.redirectUrl,t=Object(V.f)(),n=Object(i.useCallback)((function(){a?t.push(a):t.goBack()}),[t,a]);return l.a.createElement(re,{handleClick:n})},ie=Object(H.a)({header:{display:"flex",alignItems:"center"}}),le=function(e){var a=e.text,t=void 0===a?"":a,n=ie();return l.a.createElement("div",{className:n.header},l.a.createElement(ce,null),l.a.createElement(Y.a,{component:"h1",variant:"h4"},t))},oe=function(e){var a=e.sampleSizes,t=e.learningOptions,n=Object(Q.a)(e,["sampleSizes","learningOptions"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(le,{text:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u043e\u0439 \u0441\u0435\u0442\u0438"}),l.a.createElement(J.a,{container:!0,spacing:3},l.a.createElement(J.a,{item:!0,xs:7},l.a.createElement(Z,Object.assign({testSampleSize:a.test,trainSampleSize:a.train,epochs:t.epochs,batchSize:t.batchSize},n))),l.a.createElement(J.a,{item:!0,xs:7},l.a.createElement(ae,n))))},se=t(12),ue=t.n(se),me=t(158),de=t(25),pe=t(215),be=function(e){var a=function(e){var a=Object(de.input)({shape:[28,28,1]}),t=de.layers.flatten().apply(a),n=fe(t,e,0,(function(e){return e+1}));return{inputLayer:a,encoder:Object(de.model)({inputs:a,outputs:n,name:"encoder"})}}(e),t=a.encoder,n=a.inputLayer,r=function(e){var a=e.length-1,t=Object(de.input)({shape:Number(e[a].units)}),n=fe(t,e,a-1,(function(e){return e-1})),r=de.layers.dense({units:784,activation:"relu"}).apply(n),c=de.layers.reshape({targetShape:[28,28,1]}).apply(r);return{decoder:Object(de.model)({inputs:t,outputs:c,name:"decoder"}),inputLayer:t}}(e).decoder,c=Object(de.model)({inputs:n,outputs:r.apply(t.apply(n)),name:"autoencoder"});return console.log("encoder"),t.compile({optimizer:"adam",loss:"binaryCrossentropy"}),t.summary(),console.log("decoder"),r.compile({optimizer:"adam",loss:"binaryCrossentropy"}),r.summary(),console.log("autoencoder"),c.compile({optimizer:"adam",loss:"binaryCrossentropy"}),c.summary(),{autoencoder:c,encoder:t,decoder:r}},fe=function e(a,t,n,r){var c=t[n];return c&&Object.values(c).length?e(function(e){var a=e.units,t=e.act;return de.layers.dense({units:Number(a),activation:t})}(c).apply(a),t,r(n),r):a},ve=function(e){var a=e.nn,t=e.trainData,n=e.testData,r=e.epochs,c=e.batchSize,i=pe.show.fitCallbacks({name:"Model Training"},["loss","val_loss","acc","val_acc"]);return a.fit(t,t,{batchSize:c,validationData:[n,n],epochs:r,shuffle:!0,callbacks:i})};function he(e,a){return ge.apply(this,arguments)}function ge(){return(ge=Object(me.a)(ue.a.mark((function e(a,t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.predict(t),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e,a){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(me.a)(ue.a.mark((function e(a,t){var n,r,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.shape[0],r=ue.a.mark((function e(n){var r,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(de.tidy)((function(){return a.slice([n,0],[1,a.shape[1]]).reshape([28,28,1])})),(c=document.createElement("canvas")).width=28,c.height=28,c.style="margin: 4px;",e.next=7,de.browser.toPixels(r.clipByValue(0,1),c);case 7:t.appendChild(c),r.dispose();case 9:case"end":return e.stop()}}),e)})),c=0;case 3:if(!(c<n)){e.next=8;break}return e.delegateYield(r(c),"t0",5);case 5:c+=1,e.next=3;break;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je,ye,xe=function(e){return e.layers.parameters},Se=function(e){return e.data.status},Ce=t(490),ke=t(475),we=Object(H.a)((function(e){return{loader:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Ne=function(){var e=we();return l.a.createElement(Ce.a,{className:e.loader,open:!0},l.a.createElement(ke.a,{color:"inherit"}))},Ie={train:5500,test:1e3},Te={batchSize:250,epochs:50},ze=function(){var e=Object(i.useState)(Ie),a=Object(G.a)(e,2),t=a[0],n=a[1],r=Object(i.useState)(Te),c=Object(G.a)(r,2),o=c[0],s=c[1],m=Object(u.c)(xe),p=Object(u.b)(),b=Object(u.c)(Se),f=Object(i.useRef)(null),v=Object(i.useRef)(null);Object(i.useEffect)((function(){if(m.length){var e=be(m);p(function(e){return{type:S,models:e}}(e))}}),[m,p]);var h=Object(i.useCallback)((function(e){var a=e.target,t=a.id||a.name,r=a.value;n((function(e){return Object(M.a)({},e,Object(d.a)({},t,r))}))}),[n]),g=Object(i.useCallback)((function(e){var a=e.target,t=a.id||a.name,n=a.value;s((function(e){return Object(M.a)({},e,Object(d.a)({},t,n))}))}),[s]),E=Object(i.useCallback)((function(){p({type:C,options:{sampleSizes:t,learningOptions:o}})}),[p,t,o]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(oe,{dataSize:65e3,sampleSizes:t,editSampleSize:h,learningOptions:o,editLearningOption:g,trainNN:E,initImageContainer:f,predsImageContainer:v}),"LOADING"===b&&l.a.createElement(Ne,null))},Ae=t(476),Be=t(477),De=t(478),Le=t(479),Fe=t(480),We=t(481),Re=t(473),_e=t(489),Pe=t(482),He=t(491),Ue=function(e){var a=e.values,t=void 0===a?[]:a,n=e.labelId,r=void 0===n?"":n,c=e.label,i=void 0===c?"":c,o=e.size,s=void 0===o?"medium":o,u=e.fullWidth,m=void 0!==u&&u,d=e.defaultValue,p=void 0===d?"":d,b=Object(Q.a)(e,["values","labelId","label","size","fullWidth","defaultValue"]);return l.a.createElement(Re.a,{variant:"outlined",fullWidth:m,size:s},l.a.createElement(_e.a,{id:r},i),l.a.createElement(Pe.a,Object.assign({labelId:r,label:i,defaultValue:p},b),t.map((function(e){var a=e.value,t=e.text,n=Object(Q.a)(e,["value","text"]);return l.a.createElement(He.a,Object.assign({key:a,value:a},n),t||a)}))))},Ve=Object(H.a)({wrapper:{display:"flex",flexDirection:"column",justifyContent:"flex-start"},container:{paddingTop:"24px",paddingBottom:"24px"},form:{marginBottom:"20px",display:"flex",justifyContent:"space-between"},table:{marginBottom:"20px","& th":{width:"40%"},"& th:first-child":{width:"20%"}},edit:{backgroundColor:"rgba(0, 0, 0, 0.04)"},yellowTableRow:{backgroundColor:"#fffcdd",fontStyle:"italic"},buttons:{display:"flex",justifyContent:"space-around"},padding:{padding:"0 16px !important"},background:{backgroundColor:"#fff"}}),Me=l.a.memo((function(e){var a=e.colSpan,t=e.children,n=Ve();return l.a.createElement(Ae.a,{className:n.yellowTableRow},l.a.createElement(Be.a,{align:"center",colSpan:a},l.a.createElement(Y.a,{variant:"body2"},t)))})),Ge=l.a.memo((function(e){var a=e.parameters,t=e.editLayerParam,n=e.validateField,r=e.errors,c=Ve();return l.a.createElement(l.a.Fragment,null,l.a.createElement(Be.a,{padding:"none",className:c.padding},l.a.createElement($.a,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435\u0439\u0440\u043e\u043d\u043e\u0432",variant:"outlined",name:"units",id:"units",value:a.units,onChange:t,onBlur:n,size:"small",fullWidth:!0,className:c.background,error:!!r.units,helperText:r.units})),l.a.createElement(Be.a,{padding:"none",className:c.padding},l.a.createElement(Ue,{label:"\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438",name:"act",id:"act",labelId:"activation-function",values:[{value:"relu",text:"relu"},{value:"linear",text:"linear"}],value:a.act,onChange:t,onBlur:n,size:"small",fullWidth:!0,className:c.background})))})),Qe=l.a.memo((function(e){var a=e.layerId,t=e.editLayerParam,n=e.currentLayer,r=e.parameters,c=e.onBlur,i=e.editTableRow,o=e.validateField,s=e.errors,u=Ve();return l.a.createElement(Ae.a,{hover:!0,onClick:i,onBlur:c,"data-id":a,className:n===a?u.edit:"",tabIndex:"0"},l.a.createElement(Be.a,{scope:"row"},a),n===a?l.a.createElement(Ge,{parameters:r,editLayerParam:t,validateField:o,errors:s}):l.a.createElement(l.a.Fragment,null,l.a.createElement(Be.a,{"data-id":a,"data-field":"units"},r.units),l.a.createElement(Be.a,{"data-id":a,"data-field":"act"},r.act)))})),Je=l.a.memo((function(e){var a=e.goToTrain,t=e.layersNumber,n=e.editLayersNumber,r=e.layers,c=e.setEmptyLayers,i=e.currentLayer,o=e.editLayerParam,s=e.onBlur,u=e.goBack,m=e.editTableRow,d=e.errors,p=e.validateField,b=Ve();return console.log("errors",d),l.a.createElement("div",{className:b.wrapper},l.a.createElement(le,{text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u043b\u043e\u0435\u0432 \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u043e\u0439 \u0441\u0435\u0442\u0438"}),l.a.createElement(K.a,{maxWidth:"md",className:b.container},l.a.createElement("form",{noValidate:!0,autoComplete:"off",className:b.form},l.a.createElement($.a,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043b\u043e\u0435\u0432",variant:"outlined",defaultValue:t,onBlur:n,size:"small"}),l.a.createElement(q.a,{variant:"contained",color:"primary",onClick:c},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u043b\u043e\u0438")),l.a.createElement(De.a,{className:b.table},l.a.createElement(Le.a,{"aria-label":"layers"},l.a.createElement(Fe.a,null,l.a.createElement(Ae.a,null,l.a.createElement(Be.a,null,"\u041d\u043e\u043c\u0435\u0440 \u0441\u043b\u043e\u044f"),l.a.createElement(Be.a,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435\u0439\u0440\u043e\u043d\u043e\u0432"),l.a.createElement(Be.a,null,"\u0424\u0443\u043d\u0446\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438"))),l.a.createElement(We.a,null,l.a.createElement(Me,{colSpan:3},"\u0414\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0441\u043b\u043e\u044f \u0434\u0432\u0430 \u0440\u0430\u0437\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043d\u0435\u0433\u043e"),Object.entries(r).map((function(e){var a=Object(G.a)(e,2),t=a[0],n=a[1];return l.a.createElement(Qe,{key:t,layerId:t,parameters:n,currentLayer:i,editLayerParam:o,onBlur:s,editTableRow:m,validateField:p,errors:d})}))))),l.a.createElement("div",{className:b.buttons},l.a.createElement(q.a,{variant:"contained",color:"secondary",onClick:u},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"),l.a.createElement(q.a,{variant:"contained",color:"primary",onClick:a},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u0443\u044e \u0441\u0435\u0442\u044c"))))})),Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{id:e,utils:"",act:""}},Ye={units:[{rule:function(e){return!!e},message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},{rule:function(e){return a=e,!Number.isNaN(parseFloat(a))&&!Number.isNaN(Number(a))&&Number.isFinite(Number(a));var a},message:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c"},(je=0,ye=1e4,{rule:function(e){return Number(e)>=Number(je)&&Number(e)<=Number(ye)},message:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 ".concat(je," \u0438 \u043c\u0435\u043d\u044c\u0448\u0435 ").concat(ye)})],act:[{rule:function(e){return!!e},message:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}]},$e={1:{units:192,act:"relu"},2:{units:128,act:"relu"},3:{units:64,act:"linear"}},qe=function(){var e=Object(V.f)(),a=Object(u.b)(),t=Object(i.useState)(3),n=Object(G.a)(t,2),r=n[0],c=n[1],o=Object(i.useState)($e),s=Object(G.a)(o,2),m=s[0],b=s[1],f=Object(i.useState)(null),v=Object(G.a)(f,2),h=v[0],g=v[1],E=function(e){var a=Object(i.useState)({}),t=Object(G.a)(a,2),n=t[0],r=t[1];return{errors:n,validateField:Object(i.useCallback)((function(a){var t=a.target,n=t.id||t.name,c=t.value,i=e[n];if(console.log("filed",n,"rules",e,"value",c),Array.isArray(e[n])){var l=i.map((function(e){var a=e.rule,t=e.message;return a(c)?"":t})).filter((function(e){return!!e}))[0]||"";r((function(e){return Object(M.a)({},e,Object(d.a)({},n,l))}))}}),[e,r]),validateFields:Object(i.useCallback)((function(a){var t=Object.entries(e).map((function(e){var t=Object(G.a)(e,2),n=t[0],r=t[1].map((function(e){var t=e.rule,r=e.message;return t(a[n])?"":r})).filter((function(e){return!!e}))[0]||"";return Object(d.a)({},n,r)}));return r(t.reduce((function(e,a){return Object(M.a)({},e,{},a)}),{})),t.every((function(e){return!Object.values(e)[0]}))}),[r])}}(Ye),O=E.errors,j=E.validateField,y=E.validateFields,x=Object(i.useCallback)((function(){a({type:p,param:m}),e.push("Autoencoder/train")}),[e,a,m]),S=Object(i.useCallback)((function(){e.push("Autoencoder/")}),[e]),C=Object(i.useCallback)((function(e){var a=e.target;return c(a.value)}),[c]),k=Object(i.useCallback)((function(){for(var e={},a=0;a<r;a+=1){var t=a+1;e[t]=Ke(t)}b(e)}),[r,b]),w=Object(i.useCallback)((function(e){var a=e.currentTarget,t=e.detail,n=a.tagName,r=a.dataset.id;2===t&&"TR"===n&&g(r)}),[g]),N=Object(i.useCallback)((function(e){var a=e.target,t=a.name||a.id,n=a.value;t&&h&&b((function(e){return Object(M.a)({},e,Object(d.a)({},h,Object(M.a)({},e[h],Object(d.a)({},t,n))))}))}),[b,h]),I=Object(i.useCallback)((function(e){var a=e.relatedTarget,t=e.currentTarget,n=(a||{}).tagName;!t.contains(a)&&"LI"!==n&&h&&y(m[h])&&g(null)}),[g,y,h,m]);return l.a.createElement(Je,{goToTrain:x,goBack:S,layers:m,layersNumber:r,editLayersNumber:C,setEmptyLayers:k,currentLayer:h,editLayerParam:N,onBlur:I,editTableRow:w,errors:O,validateField:j})},Xe=Object(H.a)({container:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,bottom:0,left:0,right:0},buttons:{display:"flex",alignItems:"center",width:"50%",justifyContent:"space-around"}}),Ze=function(e){var a=e.createNN,t=Xe();return l.a.createElement("div",{className:t.container},l.a.createElement(Y.a,{variant:"h3",component:"h1",paragraph:!0},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c"),l.a.createElement("div",{className:t.buttons},l.a.createElement(q.a,{variant:"contained",color:"primary",size:"large",onClick:a},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u0443\u044e \u0441\u0435\u0442\u044c"),l.a.createElement(q.a,{variant:"contained",size:"large",disabled:!0},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0443\u044e \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u0443\u044e \u0441\u0435\u0442\u044c")))},ea=function(){var e=Object(V.f)(),a=Object(i.useCallback)((function(){e.push("Autoencoder/create")}),[e]);return l.a.createElement(Ze,{createNN:a})},aa=function(){return l.a.createElement(V.c,null,l.a.createElement(V.a,{path:"Autoencoder/",exact:!0,component:ea}),l.a.createElement(V.a,{path:"Autoencoder/create",exact:!0,component:qe}),l.a.createElement(V.a,{path:"Autoencoder/train",exact:!0,component:ze}),l.a.createElement(V.a,{path:"Autoencoder/test",exact:!0,component:ae}))};var ta=function(){var e=U();return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",{className:e.wrapper},l.a.createElement(D.a,null,l.a.createElement(aa,null))))},na=t(32),ra=function(){var e=new Image,a=document.createElement("canvas"),t=a.getContext("2d");return new Promise((function(n){e.crossOrigin="",e.onload=function(){e.width=e.naturalWidth,e.height=e.naturalHeight;var r=new ArrayBuffer(20384e4);a.width=e.width,a.height=5e3;for(var c=0;c<13;c+=1){var i=new Float32Array(r,784*c*5e3*4,392e4);t.drawImage(e,0,5e3*c,e.width,5e3,0,0,e.width,5e3);for(var l=t.getImageData(0,0,a.width,a.height),o=0;o<l.data.length/4;o+=1)i[o]=l.data[4*o]/255}n(new Float32Array(r))},e.src="https://storage.googleapis.com/learnjs-data/model-builder/mnist_images.png"}))},ca=function(e){return{trainImages:e.slice(0,4312e4),testImages:e.slice(4312e4)}},ia=function(e){var a=e.batchSize,t=e.testImages,n=e.testIndices,r=e.initIndex;return{batch:Object(de.tidy)((function(){return la(+a,t,(function(){return r=(r+1)%n.length,n[r]})).reshape([+a,28,28,1])})),shuffledTestIndex:r}},la=function(e,a,t){for(var n=new Float32Array(784*e),r=0;r<e;r+=1){var c=t(),i=a.slice(784*c,784*c+784);n.set(i,784*r)}return Object(de.tensor2d)(n,[e,784])},oa=function(e){return e.models.models.autoencoder},sa=ue.a.mark(ma),ua=ue.a.mark(da);function ma(e){var a,t,n,r,c,i,l,o,s,u,m,d,p,b,f,v,h,g,E,O,j;return ue.a.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return a=e.options,t=a.learningOptions,n=a.sampleSizes,x.next=4,Object(na.c)(y("LOADING"));case 4:return x.next=6,Object(na.a)(ra);case 6:return r=x.sent,x.next=9,Object(na.c)(y("NOT_REQUESTED"));case 9:return x.next=11,Object(na.d)(oa);case 11:return c=x.sent,i={trainIndices:de.util.createShuffledIndices(55e3),testIndices:de.util.createShuffledIndices(1e4)},l=i.trainIndices,o=i.testIndices,s=ca(r),u=s.trainImages,m=s.testImages,d=ia({batchSize:n.train,testImages:u,testIndices:l,initIndex:0}),p=d.batch,b=ia({batchSize:n.test,testImages:m,testIndices:o,initIndex:0}),f=b.batch,v=b.shuffledTestIndex,x.next=18,Object(na.a)(ve,{nn:c,trainData:p,testData:f,batchSize:+t.batchSize,epochs:+t.epochs});case 18:return h=ia({batchSize:10,testImages:m,testIndices:o,initIndex:v}),g=h.batch,E=document.getElementById("initImage"),O=document.getElementById("predsImage"),x.next=23,Object(na.a)(he,c,g);case 23:return j=x.sent,x.next=26,Object(na.a)(Ee,g,E);case 26:return x.next=28,Object(na.a)(Ee,j,O);case 28:case"end":return x.stop()}}),sa)}function da(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(na.e)(C,ma);case 2:case"end":return e.stop()}}),ua)}var pa=ue.a.mark(ba);function ba(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(na.b)(da);case 2:case"end":return e.stop()}}),pa)}var fa=t(220);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var va=Object(fa.a)(),ha=Object(m.createStore)(A,Object(B.composeWithDevTools)(Object(m.applyMiddleware)(va)));va.run(ba),s.a.render(l.a.createElement(u.a,{store:ha},l.a.createElement(ta,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[232,1,2]]]);
//# sourceMappingURL=main.4b375979.chunk.js.map